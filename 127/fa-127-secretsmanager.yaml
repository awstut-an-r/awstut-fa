AWSTemplateFormatVersion: 2010-09-09

Parameters:
  #Password:
  #  Type: String
  
  Password:
    Type: String
    
  Prefix:
    Type: String
  
  Username:
    Type: String
    

Resources:
  Secret:
    Type: AWS::SecretsManager::Secret
    Properties: 
      #Description: test secret
      #GenerateSecretString: 
      #  ExcludeCharacters: ""
      #  ExcludeLowercase: false
      #  ExcludeNumbers: false
      #  ExcludePunctuation: false
      #  ExcludeUppercase: false
      #  GenerateStringKey: !Ref PasswordKey
      #  IncludeSpace: false
      #  PasswordLength: !Ref PasswordLength
      #  RequireEachIncludedType: true
      #  SecretStringTemplate: !Sub '{"${PasswordKey}": "hogehoge"}'
      #KmsKeyId: alias/aws/secretsmanager
      Name: !Ref Prefix
      #ReplicaRegions: 
      #  - ReplicaRegion
      SecretString: !Sub '{"username":"${Username}","password":"${Password}"}'
      #Tags: 
      #  - Tag
      
      
Outputs:
  Secret:
    Value: !Ref Secret

  #SecretArn:
  #  Value: !Ref Secret
  
  #SecretId:
  #  Value: !Select
  #    - 6
  #    - !Split
  #      - ":"
  #      - !Ref Secret