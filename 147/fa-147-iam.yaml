AWSTemplateFormatVersion: 2010-09-09

Parameters:
  Password:
    Type: String

  Prefix:
    Type: String
    
    
Resources:
  User1:
    Type: AWS::IAM::User
    Properties:
      #Groups: 
      #  - String
      LoginProfile: 
        Password: !Ref Password
        #PasswordResetRequired: Boolean
      #ManagedPolicyArns: 
      #  - String
      #Path: String
      #PermissionsBoundary: String
      Policies: 
        - PolicyName: AllAllowPolicy
          PolicyDocument:
            Version: 2012-10-17
            Statement:
              - Effect: Allow
                Action:
                  #- aoss:APIAccessAll
                  #- aoss:DashboardsAccessAll
                  - aoss:*
                Resource: "*"
      #Tags: 
      #  - Tag
      UserName: !Sub "${Prefix}-user-01"

  User2:
    Type: AWS::IAM::User
    Properties:
      #Groups: 
      #  - String
      LoginProfile: 
        Password: !Ref Password
        #PasswordResetRequired: Boolean
      #ManagedPolicyArns: 
      #  - String
      #Path: String
      #PermissionsBoundary: String
      Policies: 
        - PolicyName: AllAllowPolicy
          PolicyDocument:
            Version: 2012-10-17
            Statement:
              - Effect: Allow
                Action:
                  #- aoss:APIAccessAll
                  #- aoss:DashboardsAccessAll
                  - aoss:*
                Resource: "*"
      #Tags: 
      #  - Tag
      UserName: !Sub "${Prefix}-user-02"


Outputs:
  #User1:
  #  Value: User1
  #  
  #User2:
  #  Value: User2
  
  User1Arn:
    Value: !GetAtt User1.Arn
    
  User2Arn:
    Value: !GetAtt User2.Arn