AWSTemplateFormatVersion: 2010-09-09

Parameters:
  BucketName:
    Type: String
    
  Function1Arn:
    Type: String
    
  QueueArn:
    Type: String
    
  #S3EventType:
  #  Type: String
  
  TopicArn:
    Type: String


Resources:
  Bucket:
    Type: AWS::S3::Bucket
    Properties:
      AccessControl: Private
      #BucketName: !Ref Prefix
      BucketName: !Ref BucketName
      NotificationConfiguration:
        LambdaConfigurations: 
          - Event: "s3:ObjectCreated:*"
            #Filter: 
            #  NotificationFilter
            Function: !Ref Function1Arn
        QueueConfigurations: 
          - Event: "s3:ObjectRemoved:*"
            #Filter: 
            #  NotificationFilter
            Queue: !Ref QueueArn
        TopicConfigurations: 
          - Event: "s3:ObjectTagging:*"
            #Filter: 
            #  NotificationFilter
            Topic: !Ref TopicArn
        EventBridgeConfiguration: 
          EventBridgeEnabled: true